syntax = "proto3";

message Expression {
  int64 ref = 1;
  string name = 111;

  message Bool {
    bool value = 1;
  }

  message Int {
    int64 value = 1;
  }

  message Float {
    float value = 1;
  }

  message String {
    string value = 1;
  }

  message List {
    repeated Expression values = 1;
  }

  message If {
    Expression cond = 1;
    Expression true = 2;
    Expression false = 3;
  }

  oneof value {
    int32 empty_value = 9;
    Bool bool_value = 2;
    Int int_value = 3;
    Float float_value = 4;
    String string_value = 5;
    List list_value = 6;
    If if_value = 7;
  }

  oneof type1 {
    int32 xxx = 8;
  }
}
